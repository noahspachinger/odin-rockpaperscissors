<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<form>
    <!--Buttons-->
    <input type="button" value="rock" onclick="playRound('rock', getComputerChoice())">
    <input type="button" value="scissors" onclick="playRound('scissors', getComputerChoice())">
    <input type="button" value="paper" onclick="playRound('paper', getComputerChoice())">

    <!--Score-->
    <div id="playerscore">Player Score: 0</div>
    <div id="computerscore">Computer Score: 0</div>
</form>
<script>

/*Generate Rock, Paper or Scissors randomly*/
function getComputerChoice() {
    const defaultSelection = ["rock", "paper", "scissors"];
    let random = Math.floor(Math.random() * defaultSelection.length);
    return defaultSelection[random];
}

/*Get input from the user*/

/*
function getUserChoice() {
    let input = prompt("Type either rock, paper or scissors");

    //Convert to lower case
    let result = input.toLowerCase();

    //Check if the input is valid
    if (result=="rock"||result=="scissors"||result=="paper") {
        return result;
    }

    else {
        alert("Enter a valid value");
        result = getUserChoice();
        return result;
    }
}*/


let playerPoints = 0;
let computerPoints = 0;




function playRound(playerSelection, computerSelection) {

    //Decide whether the user or the computer has won
    let winner = "default";

    if (playerSelection == "rock" && computerSelection == "paper") {
        alert("You lose! Paper beats Rock!");
        computerPoints++;
    }

    else if (playerSelection == "rock" && computerSelection == "scissors") {
        alert("You win! Rock beats Scissors!");
        playerPoints++;
    }

    else if (playerSelection == "paper" && computerSelection == "scissors") {
        alert("You lose! Scissors beats Paper!");
        computerPoints++;
    }

    else if (playerSelection == "paper" && computerSelection == "rock") {
        alert("You win! Paper beats Rock!");
        playerPoints++;
    }

    else if (playerSelection == "scissors" && computerSelection == "rock") {
        alert("You lose! Rock beats Scissors!");
        computerPoints++;
    }

    else if (playerSelection == "scissors" && computerSelection == "paper") {
        alert("You win! Scissors beats Paper!");
        playerPoints++;
    }

    /*Case of draw*/
    else if (playerSelection == "rock" && computerSelection == "rock") {
        alert("It's a draw! Both chose rock");
    }

    else if (playerSelection == "scissors" && computerSelection == "scissors") {
        alert("It's a draw! Both chose scissors");
    }

    else if (playerSelection == "paper" && computerSelection == "paper") {
        alert("It's a draw! Both chose paper");
    }

    //Final Winner evaluation
    if (playerPoints >= 5) {
    alert("YOU WIN THIS GAME!")
    playerPoints = 0;
    computerPoints = 0;
    }   

    if (computerPoints >= 5) {
    alert("THE COMPUTER WINS THIS GAME!")
    playerPoints = 0;
    computerPoints = 0;
    }

    //updating the score on the page
    document.getElementById("playerscore").textContent="Player Score: "+playerPoints;
    document.getElementById("computerscore").textContent="Computer Score: "+computerPoints;
}

/*Count the wins of the user and the computer*/

/*
function game() {
    for (let i = 0; i>-1 ;i++) {
        let winner = playRound(getUserChoice(), getComputerChhoice());

        if (winner=="player") {
            playerPoints++;2
            console.log("Player: ",playerPoints);
            console.log("Computer: ",computerPoints);
        }

        else if (winner=="computer") {
            computerPoints++;
            console.log("Player: ",playerPoints);
            console.log("Computer: ",computerPoints);
        }
    }

    //Determine the finale winner
    if (playerPoints>computerPoints) {
        alert("You win the game")
    }

    else if (playerPoints<computerPoints) {
        alert("The computer wins the game")
    }
}*/
</script>
</body>
</html>
