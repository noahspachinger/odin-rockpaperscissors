<script>

/*Generate Rock, Paper or Scissors randomly*/
function getComputerChhoice() {
    const defaultSelection = ["rock", "paper", "scissors"];
    let random = Math.floor(Math.random() * defaultSelection.length);
    return defaultSelection[random];
}

/*Get input from the user*/
function getUserChoice() {
    let input = prompt("Type either rock, paper or scissors");

    /*Convert to lower case*/
    let result = input.toLowerCase();

    /*Check if the input is valid*/
    if (result=="rock"||result=="scissors"||result=="paper") {
        return result;
    }

    else {
        alert("Enter a valid value");
        result = getUserChoice();
        return result;
    }
}

/*Decide whether the user or the computer has won*/
function playRound(playerSelection, computerSelection) {

    let winner = "default";

    if (playerSelection == "rock" && computerSelection == "paper") {
        alert("You lose! Paper beats Rock!");
        winner = "computer";
    }

    else if (playerSelection == "rock" && computerSelection == "scissors") {
        alert("You win! Rock beats Scissors!");
        winner = "player";
    }

    else if (playerSelection == "paper" && computerSelection == "scissors") {
        alert("You lose! Scissors beats Paper!");
        winner = "computer";
    }

    else if (playerSelection == "paper" && computerSelection == "rock") {
        alert("You win! Paper beats Rock!");
        winner = "player";
    }

    else if (playerSelection == "scissors" && computerSelection == "rock") {
        alert("You lose! Rock beats Scissors!");
        winner = "computer";
    }

    else if (playerSelection == "scissors" && computerSelection == "paper") {
        alert("You win! Scissors beats Paper!");
        winner = "player";
    }

    /*Case of draw*/
    else if (playerSelection == "rock" && computerSelection == "rock") {
        alert("It's a draw! Both chose rock");
    }

    else if (playerSelection == "scissors" && computerSelection == "scissors") {
        alert("It's a draw! Both chose scissors");
    }

    else if (playerSelection == "paper" && computerSelection == "paper") {
        alert("It's a draw! Both chose paper");
    }

    return winner;
}

/*Points of the player and the computer in the beginning*/
let playerPoints = 0;
let computerPoints = 0;
console.log("Player: ",playerPoints);
console.log("Computer: ",computerPoints);

/*Count the wins of the user and the computer*/
function game() {
    while(playerPoints+computerPoints < 5) {
        let winner = playRound(getUserChoice(), getComputerChhoice());

        if (winner=="player") {
            playerPoints++;
            console.log("Player: ",playerPoints);
            console.log("Computer: ",computerPoints);
        }

        else if (winner=="computer") {
            computerPoints++;
            console.log("Player: ",playerPoints);
            console.log("Computer: ",computerPoints);
        }
    }

    /*Determine the finale winner*/
    if (playerPoints>computerPoints) {
        alert("You win the game")
    }

    else if (playerPoints<computerPoints) {
        alert("The computer wins the game")
    }
}
</script>
